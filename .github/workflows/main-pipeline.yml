# .github/workflows/main_pipeline.yml
# 
name: Main CI/CD Pipeline

on:
  push:
    branches:
      - dev
    paths:
      - 'backend/**'
      - 'frontend/**'
      - 'k8s/**'
      - '.github/workflows/**'

jobs:
  run_ci_pipeline:
    name: Run Backend CI
    uses: ./.github/workflows/ci-pipeline.yml
    secrets: inherit

  run_cd_pipeline:
    name: Run Frontend CI
    uses: ./.github/workflows/cd-pipeline.yml
    secrets: inherit